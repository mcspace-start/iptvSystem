import{_ as Me,r as u,Y as j,c as T,o as f,b as l,d as t,w as a,j as h,i as qe,Z as xl,m as v,N as Gl,O as Ge,$ as $l,n as $e,y as Rl,k as Fl,W as Ml,l as M,a as m,z as ql,E as Ll,t as _,a0 as Nl,g as U,G as Al,F as ae,s as te,H as Bl,D as Kl,e as fe,a1 as Wl,u as Re,a2 as Zl,a3 as Ol,q as he,x as jl,a4 as Fe,v as Jl,T as Ql,U as Yl,V as Hl,a5 as Xl,S as ea,Q as la,p as aa,B as ta,C as sa,a6 as oa,A as ye}from"./index-DMhmhxta.js";/* empty css                 *//* empty css                    *//* empty css                  *//* empty css                        *//* empty css                      */import{t as na}from"./TVB星河-o_Ltz7Ei.js";/* empty css               *//* empty css                       */const ra={class:"date-picker-with-buttons"},ia={class:"date-wrap"},ua={__name:"datePickerWithButtons",props:{modelValue:{type:Date,default:()=>{}}},emits:["update:modelValue","increase","decrease","change"],setup(be,{emit:x}){const C=be,G=x,d=u(C.modelValue||new Date);j(()=>C.modelValue,S=>{d.value=S}),j(d,S=>{G("update:modelValue",S)});const se=()=>{d.value&&d.value instanceof Date?(d.value=new Date(d.value.getTime()+3600*24*1e3),G("increase",d.value),G("change",d.value)):v.warning("请输入一个日期")},p=()=>{d.value&&d.value instanceof Date?(d.value=new Date(d.value.getTime()-3600*24*1e3),G("decrease",d.value),G("change",d.value)):v.warning("请先输入一个日期")};return(S,$)=>{const b=qe,z=xl;return f(),T("div",ra,[l(b,{type:"primary",plain:"",onClick:p},{default:a(()=>$[1]||($[1]=[h(" 前",-1),t("span",{class:"hidden-xs-only"},"一天",-1)])),_:1,__:[1]}),t("div",ia,[l(z,{modelValue:d.value,"onUpdate:modelValue":$[0]||($[0]=w=>d.value=w),type:"date",placeholder:"选择日期",readonly:"",size:"default",clearable:!1,style:{width:"100%"}},null,8,["modelValue"])]),l(b,{type:"primary",plain:"",onClick:se},{default:a(()=>$[2]||($[2]=[h("后",-1),t("span",{class:"hidden-xs-only"},"一天",-1)])),_:1,__:[2]})])}}},da=Me(ua,[["__scopeId","data-v-b3c8de7d"]]),ca={class:"iptv"},pa={class:"iptv-header"},_a={class:"box"},va={class:"select-wrap"},ga={class:"iptv-content"},ma={class:"card-header"},fa={class:"total"},ha={class:"channel-controls"},ya={class:"select-name"},ba={class:"tools"},Ca={class:"channel-content"},wa={class:"image-slot"},Sa={class:"info"},Pa={class:"channel-category"},ka={class:"icon-wrap",title:"RTSP分组"},Ea={class:"icon-wrap",title:"IGMP分组"},Ia={class:"channel-epg"},Ta={class:"channel-name"},za=["onClick"],Da={class:"card-footer"},Va={class:"dialog-title"},Ua={class:"delete-task"},xa={class:"msg"},Ga={class:"dialog-footer"},$a={class:"dialog-title"},Ra={class:"delete-task"},Fa={class:"msg"},Ma={class:"msg",style:{"margin-top":"4px"}},qa={class:"dialog-footer"},La={class:"dialog-title"},Na={class:"detail"},Aa={class:"detail-header"},Ba={class:"img-wrap"},Ka={class:"image-slot"},Wa={class:"detail-header-info"},Za={class:"title"},Oa={class:"label"},ja={class:"label"},Ja={class:"label"},Qa={class:"detail-content"},Ya={class:"tabs-label"},Ha={class:"tabs-label"},Xa={class:"tabs-label"},et={class:"list"},lt={key:0,class:"epg-content"},at={class:"epg-info"},tt={class:"epg-time"},st={class:"epg-title"},ot={class:"epg-duration"},nt=["onClick"],rt=["onClick"],it={class:"dialog-footer"},ut={class:"dialog-title"},dt={class:"save-dialog"},ct={class:"desc"},pt={class:"dialog-footer"},_t="/iptvChannels",vt="/searchIptvChannels",gt="/deleteIptvChannels",mt="/deleteIptvChannel",ft="/epgData",ht="/iptvAddChannel",yt="/iptvEditChannel",bt="/iptvRefreshLogo",Ct={__name:"Iptv",setup(be){const x=u(!1),C=u("card"),G=localStorage.getItem("iptvShowType");G&&(C.value=G);const d=u("all"),se=[{label:"卡片",value:"card"},{label:"表格",value:"table"}],p=u({page:1,pageSize:10,total:0,layout:"total, sizes, prev, pager, next, jumper"});let S={...p.value};const $=Gl("xs");Ge(()=>{$.value?p.value.layout="pager":p.value.layout="total, sizes, prev, pager, next, jumper"});const b=u([]),z=async()=>{const o={page:p.value.page,pageSize:p.value.pageSize};x.value=!0;try{const e=await M.get(_t,{params:o});e.code==200?(b.value=e.data.data,p.value.total=e.data.total,d.value="all",S={...p.value}):(v.error(e.msg||"错误"),console.log(e.msg),p.value={...S})}catch(e){p.value={...S},v.error("获取数据失败，请稍后重试！"),console.log(e)}finally{x.value=!1}};z();const w=$l({queryType:"channelName",query:""}),Ce=[{label:"频道名称",value:"channelName"},{label:"频道标识号",value:"channelId"},{label:"RTSP频道分组",value:"rtspGroup"},{label:"IGMP频道分组",value:"igmpGroup"}],Le=$e(()=>`输入 ${Ce.find(e=>e.value===w.queryType).label} 搜索`),F=async()=>{d.value=="all"&&(p.value.page=1,p.value.pageSize=10);const o={page:p.value.page,pageSize:p.value.pageSize,query:w.query,queryType:w.queryType};x.value=!0;try{const e=await M.get(vt,{params:o});e.code==200?(b.value=e.data.data,p.value.total=e.data.total,d.value="search",S={...p.value}):(p.value={...S},v.error(e.msg||"错误"),console.log(e.msg))}catch(e){p.value={...S},v.error("获取数据失败，请稍后重试！"),console.log(e)}finally{x.value=!1}},Ne=()=>{w.query=""},Ae=()=>{if(w.query.trim()===""&&(w.query="",d.value=="search"))return z();F()},Be=()=>{d.value=="all"?z():F()},Ke=()=>{d.value=="all"?z():F()},q=u(null),P=u([]),J=u([]),R=u([]),We=()=>{R.value=[],J.value=[],P.value=[],q.value&&q.value.clearSelection()};Ge(()=>{P.value=C.value=="card"?R.value:J.value}),j(()=>b.value,()=>{We()});const Ze=o=>{J.value=o},Oe=()=>{localStorage.setItem("iptvShowType",C.value),C.value=="card"?R.value=J.value:(q.value.clearSelection(),R.value.forEach(o=>{q.value.toggleRowSelection(o,!0)}))},je=$e(()=>P.value.length===b.value.length&&P.value.length>0),Je=()=>{C.value=="card"?R.value=R.value.length===b.value.length?[]:b.value:q.value.toggleAllSelection()},oe=u(!1),N=u(!1),Qe=async()=>{const e={ids:P.value.map(r=>r.id).join(",")};oe.value=!0;try{const r=await M.get(gt,{params:e});r.code==200?(ye.success({title:`删除${P.value.length}个频道成功！`,showClose:!1}),d.value=="all"?z():F(),N.value=!1):v.error(r.msg||"删除失败")}catch(r){v.error(r.msg||"请求错误！"),console.log(r)}finally{oe.value=!1}},A=u(!1),Q=u(null),ne=u(!1),we=o=>{Q.value=o,A.value=!0},Ye=async()=>{const o={id:Q.value.channel_id};ne.value=!0;try{const e=await M.get(mt,{params:o});e.code==200?(ye.success({title:"删除频道成功！",showClose:!1}),A.value=!1,d.value=="all"?z():F()):v.error(e.msg||"错误！")}catch(e){v.error("删除失败，请稍后重试！"),console.log(e)}finally{ne.value=!1}},Y=u("info"),H=u(!1),g=u(null),Se=u(null),Pe=u(null),re=u(!1),L=u([]),ke=o=>{g.value=o,Y.value="info",H.value=!0,L.value=[]},Ee=o=>{const e=o==="rtsp"?g.value.rtsp_url:g.value.igmp_url;(o==="rtsp"?Se.value:Pe.value).select();try{navigator.clipboard.writeText(e),v.success("已复制到剪贴板")}catch{v.error("复制失败，请手动复制")}},Ie=o=>{const e=o==="rtsp"?g.value.rtsp_url:g.value.igmp_url,r={accountinfo:"~~V2.0~a3YVBdGOvbzgc7oDC7SCTg~5lc7o6waW0Pz-FZUCEiv_SfyUnKUl8N3i4Oy7I9sR7pZPiorPPzZhwF8MEoAgzkmSrk7CDJmpedK70nZUh4WhUugKK9tbQxbUPSTvTKlbu0==:20230101235235,END",GuardEncType:"2"},n=new URLSearchParams(r).toString(),c=`${e}?${n}`;window.location.href=`potplayer://${c}`},ie=u(new Date),He=o=>{const e=o.getFullYear(),r=String(o.getMonth()+1).padStart(2,"0"),n=String(o.getDate()).padStart(2,"0");return`${e}-${r}-${n}`},Te=async o=>{const e={date:He(o),timezone:new Intl.DateTimeFormat().resolvedOptions().timeZone,_t:Date.now()};re.value=!0;try{const r=await M.get(ft,{params:e});r.code==200?L.value=r.data.programs:(v.error(r.msg||"错误！"),console.log(r.msg))}catch(r){v.error("获取数据失败，请稍后重试！"),console.log(r)}finally{re.value=!1}};j(()=>Y.value,o=>{o==="epg"&&L.value.length==0&&Te(ie.value)});const Xe=o=>{L.value=[],Te(o)},ze=o=>{const e=new Date(o),r=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0");return`${r}:${n}`},el=(o,e)=>{const r=new Date(o),n=new Date(e),c=Math.abs(n-r),i=Math.floor(c/(1e3*60)),D=Math.floor(i/60),O=i%60;return D>0?`${D}时${O}分`:`${i}分`},B=(o,e)=>{const r=new Date("2025-07-19T10:01:00.000Z"),n=new Date(o),c=new Date(e);let i="upcoming";return r<n?i="upcoming":r>=n&&r<c?i="airing":i="finished",i},De=(o,e)=>{const r=new Date(o.start_time).getTime(),n=new Date(o.end_time).getTime(),c=g.value.rtsp_url;let i={accountinfo:"~~V2.0~a3YVBdGOvbzgc7oDC7SCTg~5lc7o6waW0Pz-FZUCEiv_SfyUnKUl8N3i4Oy7I9sR7pZPiorPPzZhwF8MEoAgzkmSrk7CDJmpedK70nZUh4WhUugKK9tbQxbUPSTvTKlbu0==:20230101235235,END",GuardEncType:"2"};e==="finished"&&(i.playseek=`${r}-${n}`);const D=new URLSearchParams(i).toString(),O=`${c}?${D}`;window.location.href=`potplayer://${O}`},k=u({channel_id:"",channel_name:"",channel_number:"",insert_position:"",logo_url:"",rtsp_url:"",igmp_url:"",rtsp_group:"",igmp_group:"",epg_id:"",epg_name:"",epg_number:""}),ll={...k.value};let Ve={};const K={channel_id:{label:"频道标识号",placeholder:"请输入频道标识号",desc:"频道的唯一标识号",tips:"",icon:"CreditCard"},channel_name:{label:"频道名称",placeholder:"请输入频道名称",desc:"频道的唯一标识符，不可重复",tips:"",icon:"FirstAidKit"},channel_number:{label:"频道编号",placeholder:"请输入频道编号",desc:'频道的可读名称，如"CCTV-1"',tips:"",icon:"Files"},insert_position:{label:"插入位置",placeholder:"请输入插入位置",desc:"频道在列表中的插入位置",tips:"",icon:"Location"},logo_url:{label:"频道台标URL",placeholder:"请输入频道台标URL",desc:"频道台标图片的URL地址",tips:"",icon:"Picture"},rtsp_url:{label:"RTSP地址",placeholder:"请输入RTSP地址",desc:"RTSP协议下的频道地址",tips:"",icon:"Link"},igmp_url:{label:"IGMP地址",placeholder:"请输入IGMP地址",desc:"IGMP协议下的频道地址",tips:"",icon:"Link"},rtsp_group:{label:"RTSP频道分组",placeholder:"请输入RTSP频道分组",desc:"RTSP协议下的频道分组名称",tips:"",icon:"Folder"},igmp_group:{label:"IGMP频道分组",placeholder:"请输入IGMP频道分组",desc:"IGMP协议下的频道分组名称",tips:"",icon:"Folder"},epg_id:{label:"EPG频道标识号",placeholder:"请输入EPG频道标识号",desc:"EPG系统中的频道标识号",tips:"",icon:"CreditCard"},epg_name:{label:"EPG频道名称",placeholder:"请输入EPG频道名称",desc:"EPG系统中显示的频道名称",tips:"",icon:"FirstAidKit"},epg_number:{label:"EPG频道编号",placeholder:"请输入EPG频道编号",desc:"EPG系统中的频道编号",tips:"",icon:"Files"}},al={channel_id:[{required:!0,message:"频道标识符不能为空",trigger:"blur"}],channel_name:[{required:!0,message:"频道名称不能为空",trigger:"blur"}],insert_position:[{pattern:/^\d+$/,message:"插入位置只能为数字",trigger:"blur"}],epg_name:[{required:!0,message:"EPG频道名称不能为空",trigger:"blur"}],epg_id:[{required:!0,message:"EPG频道标识号不能为空",trigger:"blur"}],igmp_group:[{required:!0,message:"IGMP分组不能为空",trigger:"blur"}],rtsp_group:[{required:!0,message:"RTSP分组不能为空",trigger:"blur"}],rtsp_url:[{required:!0,message:"RTSP地址不能为空",trigger:"blur"},{type:"url",message:"RTSP地址格式不正确",trigger:"blur"}],igmp_url:[{required:!0,message:"IGMP地址不能为空",trigger:"blur"},{type:"url",message:"IGMP地址格式不正确",trigger:"blur"}]},X=u(null),W=u(!1),ee=u(!1),Z=u(!1);let ue="";const de=(o,e)=>{if(ee.value)return v.info("正在保存数据，请稍后重试！");X.value&&X.value.clearValidate(),W.value=!0,o==="add"?(Z.value=!1,k.value={...ll}):(Z.value=!0,k.value={...e},Ve={...k.value})},tl=()=>{X.value.validate(async o=>{if(o){if(JSON.stringify(k.value)===JSON.stringify(Ve))return v.info("未做任何修改");let r={};Z.value?(ue=yt,r={id:k.value.id,data:{...k.value}}):(ue=ht,r={...k.value}),ee.value=!0;try{const n=await M.get(ue,{params:r});n.code==200?(console.log(n),ye.success({title:`${Z.value?"编辑":"添加"}频道成功`,showClose:!1}),W.value=!1,d.value=="all"?z():F()):(console.log(n.msg),v.error(n.msg||"错误！"))}catch(n){v.error("保存失败，请稍后重试！"),console.log(n)}finally{ee.value=!1}}})},ce=u(!1),sl=async()=>{ce.value=!0;try{const o=await M.get(bt);o.code==200?(v.success("刷新台标成功！"),d.value=="all"?z():F()):(console.log(o.msg),v.error(o.msg||"错误！"))}catch(o){v.error("刷新失败，请稍后重试！"),console.log(o)}finally{ce.value=!1}};return j(()=>b.value,()=>{console.log("监控data"),b.value.forEach(o=>{o.logo_url=na})}),(o,e)=>{const r=m("DocumentAdd"),n=Ll,c=qe,i=ql,D=m("Delete"),O=m("Finished"),ol=m("Refresh"),nl=m("Menu"),rl=m("Expand"),il=Nl,ul=Bl,dl=Al,cl=m("Search"),E=Kl,V=Rl,pl=Zl,_l=m("EditPen"),Ue=m("Monitor"),pe=Ol,vl=m("Folder"),gl=m("Share"),_e=jl,ml=Wl,I=Yl,fl=m("Edit"),hl=Hl,yl=Ql,bl=Xl,Cl=Fl,le=Ml,wl=m("InfoFilled"),Sl=m("Warning"),ve=la,Pl=m("Link"),xe=m("CopyDocument"),ge=m("CaretRight"),kl=m("Calendar"),El=aa,Il=m("Clock"),Tl=ea,zl=m("Aim"),Dl=sa,Vl=ta,me=Jl;return f(),T("main",ca,[t("div",pa,[l(V,{gutter:15},{default:a(()=>[l(i,{xs:12,sm:6,md:3},{default:a(()=>[l(c,{type:"primary",onClick:e[0]||(e[0]=s=>de("add"))},{icon:a(()=>[l(n,null,{default:a(()=>[l(r)]),_:1})]),default:a(()=>[e[22]||(e[22]=h(" 添加频道",-1))]),_:1,__:[22]})]),_:1}),l(i,{xs:12,sm:6,md:3},{default:a(()=>[l(c,{type:"danger",onClick:e[1]||(e[1]=s=>N.value=!0),disabled:!P.value.length,title:P.value.length?"":"请先选择要删除的频道"},{icon:a(()=>[l(n,null,{default:a(()=>[l(D)]),_:1})]),default:a(()=>[h(" "+_(P.value.length?`删除(${P.value.length})`:"删除频道"),1)]),_:1},8,["disabled","title"])]),_:1}),l(i,{xs:12,sm:6,md:2},{default:a(()=>[l(c,{type:"info",onClick:Je},{icon:a(()=>[l(n,null,{default:a(()=>[l(O)]),_:1})]),default:a(()=>[h(" 全"+_(je.value?"不":"")+"选",1)]),_:1})]),_:1}),l(i,{xs:12,sm:6,md:3},{default:a(()=>[l(c,{type:"success",onClick:sl,loading:ce.value},{icon:a(()=>[l(n,null,{default:a(()=>[l(ol)]),_:1})]),default:a(()=>[e[23]||(e[23]=h(" 刷新台标",-1))]),_:1,__:[23]},8,["loading"])]),_:1}),l(i,{xs:24,sm:10,md:4},{default:a(()=>[l(il,{class:"showType",modelValue:C.value,"onUpdate:modelValue":e[2]||(e[2]=s=>C.value=s),options:se,onChange:Oe,block:""},{default:a(s=>[t("div",_a,[s.item.value=="card"?(f(),U(n,{key:0},{default:a(()=>[l(nl)]),_:1})):(f(),U(n,{key:1},{default:a(()=>[l(rl)]),_:1})),t("span",null,_(s.item.label),1)])]),_:1},8,["modelValue"])]),_:1}),l(i,{xs:24,sm:14,md:3},{default:a(()=>[t("div",va,[l(dl,{modelValue:w.queryType,"onUpdate:modelValue":e[3]||(e[3]=s=>w.queryType=s),placeholder:"Select",size:"large",onChange:Ne},{default:a(()=>[(f(),T(ae,null,te(Ce,s=>l(ul,{key:s.value,label:s.label,value:s.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])]),_:1}),l(i,{xs:24,sm:24,md:6},{default:a(()=>[l(E,{modelValue:w.query,"onUpdate:modelValue":e[4]||(e[4]=s=>w.query=s),placeholder:Le.value,class:"searchInput",clearable:"",onChange:Ae},{append:a(()=>[l(n,null,{default:a(()=>[l(cl)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1})]),t("div",ga,[l(Cl,{"body-style":"padding: 0px;"},{header:a(()=>[t("div",ma,[e[24]||(e[24]=t("span",{class:"title"},"频道列表",-1)),t("span",fa,_(p.value.total)+" 个频道",1)])]),footer:a(()=>[t("div",Da,[l(bl,{background:"","current-page":p.value.page,"onUpdate:currentPage":e[6]||(e[6]=s=>p.value.page=s),"page-size":p.value.pageSize,"onUpdate:pageSize":e[7]||(e[7]=s=>p.value.pageSize=s),"page-sizes":[10,20,30],layout:p.value.layout,total:p.value.total,onSizeChange:Be,onCurrentChange:Ke,"pager-count":5},null,8,["current-page","page-size","layout","total"])])]),default:a(()=>[l(ml,{modelValue:R.value,"onUpdate:modelValue":e[5]||(e[5]=s=>R.value=s),style:{"line-height":"normal","font-size":"initial"}},{default:a(()=>[fe((f(),U(V,{class:"channel-list",gutter:20},{default:a(()=>[(f(!0),T(ae,null,te(b.value,s=>(f(),U(i,{xs:24,sm:12,md:6,key:s},{default:a(()=>[t("div",{class:Re(["channel-item",{"is-checked":!1}])},[t("div",ha,[t("div",ya,[(f(),U(pl,{label:s.channel_name,value:s,size:"large",key:s.id},null,8,["label","value"]))]),t("div",ba,[l(n,{class:"edit",onClick:y=>de("edit",s)},{default:a(()=>[l(_l)]),_:2},1032,["onClick"]),l(n,{class:"delete",onClick:y=>we(s)},{default:a(()=>[l(D)]),_:2},1032,["onClick"])])]),t("div",Ca,[l(pe,{fit:"contain",class:"image",src:s.logo_url},{error:a(()=>[t("div",wa,[l(n,{size:30},{default:a(()=>[l(Ue)]),_:1})])]),_:2},1032,["src"]),t("div",Sa,[t("p",null,"频道标识号:"+_(s.channel_id),1),t("p",null,"频道编号:"+_(s.channel_number),1),t("p",null,"EPG编号:"+_(s.epg_number),1)])]),t("div",Pa,[t("div",ka,[l(n,{size:14},{default:a(()=>[l(vl)]),_:1}),t("span",null,_(s.rtsp_group),1)]),t("div",Ea,[l(n,{size:14},{default:a(()=>[l(gl)]),_:1}),t("span",null,_(s.igmp_group),1)])]),t("div",Ia,[t("span",Ta,"EPG频道: "+_(s.epg_name),1),t("span",{class:"detailBtn",onClick:y=>ke(s)},"详情",8,za)])])]),_:2},1024))),128)),l(i,{span:24},{default:a(()=>[b.value.length==0?(f(),U(_e,{key:0,description:"暂无数据"})):he("",!0)]),_:1})]),_:1})),[[Fe,C.value=="card"],[me,x.value]])]),_:1},8,["modelValue"]),fe((f(),U(V,{class:"channel-table"},{default:a(()=>[l(yl,{data:b.value,ref_key:"dataFormRef",ref:q,onSelectionChange:Ze,"header-row-class-name":"table-header","header-cell-style":{backgroundColor:"rgb(248, 249, 250)",color:"#222",borderBottom:"2px solid #333"},title:"双击查看详情",onRowDblclick:ke},{empty:a(()=>[l(_e,{description:"暂无数据"})]),default:a(()=>[l(I,{fixed:"",width:"40",type:"selection"}),l(I,{prop:"logoSrc",label:"台标",width:"120"},{default:a(({row:s})=>[l(pe,{fit:"cover",class:"image-logo",src:s.logo_url},null,8,["src"])]),_:1}),l(I,{prop:"channel_name",label:"频道名称",width:"120","show-overflow-tooltip":""}),l(I,{prop:"channel_id",label:"频道标识号","min-width":"100"}),l(I,{prop:"channel_number",label:"频道编号","min-width":"80"}),l(I,{prop:"rtsp_group",label:"RTSP分组",width:"100"}),l(I,{prop:"igmp_group",label:"IGMP分组",width:"100"}),l(I,{prop:"epg_name",label:"EPG频道名称","min-width":"140","show-overflow-tooltip":""}),l(I,{prop:"epg_id",label:"EPG标识号","min-width":"100"}),l(I,{prop:"epg_number",label:"EPG编号","min-width":"80"}),l(I,{align:"center",label:"操作",width:"120"},{default:a(({row:s})=>[l(hl,null,{default:a(()=>[l(c,{size:"default",type:"primary",onClick:y=>de("edit",s)},{default:a(()=>[l(n,null,{default:a(()=>[l(fl)]),_:1})]),_:2},1032,["onClick"]),l(c,{size:"default",type:"danger",onClick:y=>we(s)},{default:a(()=>[l(n,null,{default:a(()=>[l(D)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1})),[[Fe,C.value=="table"],[me,x.value]])]),_:1})]),l(le,{modelValue:N.value,"onUpdate:modelValue":e[9]||(e[9]=s=>N.value=s),title:"Tips",width:"500","align-center":"",class:"my-dialog danger"},{header:a(()=>[t("div",Va,[l(n,{size:20},{default:a(()=>[l(D)]),_:1}),e[25]||(e[25]=t("span",null,"删除选中频道",-1))])]),footer:a(()=>[t("div",Ga,[l(c,{onClick:e[8]||(e[8]=s=>N.value=!1)},{default:a(()=>e[28]||(e[28]=[h("取消",-1)])),_:1,__:[28]}),l(c,{type:"danger",onClick:Qe,loading:oe.value},{default:a(()=>e[29]||(e[29]=[h("确认",-1)])),_:1,__:[29]},8,["loading"])])]),default:a(()=>[t("div",Ua,[e[27]||(e[27]=t("p",{class:"title"},"确定要删除选中的频道吗？此操作不可恢复。",-1)),t("div",xa,[e[26]||(e[26]=t("span",{class:"msg-label"},"删除内容：",-1)),t("span",null,_(P.value.length||0)+"个频道",1)])])]),_:1},8,["modelValue"]),l(le,{modelValue:A.value,"onUpdate:modelValue":e[11]||(e[11]=s=>A.value=s),title:"Tips",width:"500","align-center":"",class:"my-dialog danger"},{header:a(()=>[t("div",$a,[l(n,{size:20},{default:a(()=>[l(D)]),_:1}),e[30]||(e[30]=t("span",null,"删除定时任务",-1))])]),footer:a(()=>[t("div",qa,[l(c,{onClick:e[10]||(e[10]=s=>A.value=!1)},{default:a(()=>e[34]||(e[34]=[h("取消",-1)])),_:1,__:[34]}),l(c,{type:"danger",onClick:Ye,loading:ne.value},{default:a(()=>e[35]||(e[35]=[h("确认",-1)])),_:1,__:[35]},8,["loading"])])]),default:a(()=>[t("div",Ra,[e[33]||(e[33]=t("p",{class:"title"},"确定要删除该的频道吗？此操作不可恢复。",-1)),t("div",Fa,[e[31]||(e[31]=t("span",{class:"msg-label"},"频道名称：",-1)),t("span",null,_(Q.value.channel_name),1)]),t("div",Ma,[e[32]||(e[32]=t("span",{class:"msg-label"},"频道标识号：",-1)),t("span",null,_(Q.value.channel_id),1)])])]),_:1},8,["modelValue"]),l(le,{modelValue:H.value,"onUpdate:modelValue":e[19]||(e[19]=s=>H.value=s),title:"Tips",width:"500","align-center":"",class:"my-dialog primary dialog-max-height"},{header:a(()=>[t("div",La,[l(n,{size:20},{default:a(()=>[l(wl)]),_:1}),e[36]||(e[36]=t("span",null,"详情",-1))])]),footer:a(()=>[t("div",it,[l(c,{type:"info",plain:"",onClick:e[18]||(e[18]=s=>H.value=!1)},{default:a(()=>e[52]||(e[52]=[h("关闭",-1)])),_:1,__:[52]})])]),default:a(()=>[t("div",Na,[t("div",Aa,[t("div",Ba,[l(pe,{fit:"contain",src:g.value.logo_url},{error:a(()=>[t("div",Ka,[l(n,{size:30},{default:a(()=>[l(Ue)]),_:1})])]),_:1},8,["src"])]),t("div",Wa,[t("p",Za,_(g.value.channel_name),1),t("p",Oa,[e[37]||(e[37]=h(" 频道标识号: ",-1)),t("span",null,_(g.value.id),1)]),t("p",ja,[e[38]||(e[38]=h(" RTSP分组: ",-1)),t("span",null,_(g.value.rtsp_group),1)]),t("p",Ja,[e[39]||(e[39]=h(" IGMP分组: ",-1)),t("span",null,_(g.value.igmp_group),1)])])]),t("div",Qa,[l(Tl,{modelValue:Y.value,"onUpdate:modelValue":e[17]||(e[17]=s=>Y.value=s),class:"demo-tabs",type:"border-card"},{default:a(()=>[l(ve,{name:"info"},{label:a(()=>[t("span",Ya,[l(n,{class:"tabs-icon",size:16},{default:a(()=>[l(Sl)]),_:1}),e[40]||(e[40]=t("span",{class:"tabs-title"},"基本信息",-1))])]),default:a(()=>[l(V,null,{default:a(()=>[l(i,{span:24},{default:a(()=>[e[41]||(e[41]=t("p",{class:"label"},"台标地址",-1)),l(E,{readonly:"",size:"large",value:g.value.logo_url},null,8,["value"])]),_:1,__:[41]})]),_:1}),l(V,{gutter:20},{default:a(()=>[l(i,{xs:24,span:12},{default:a(()=>[e[42]||(e[42]=t("p",{class:"label"},"频道名称",-1)),l(E,{readonly:"",size:"large",value:g.value.channel_name},null,8,["value"])]),_:1,__:[42]}),l(i,{xs:24,span:12},{default:a(()=>[e[43]||(e[43]=t("p",{class:"label"},"频道标识号",-1)),l(E,{readonly:"",size:"large",value:g.value.id},null,8,["value"])]),_:1,__:[43]})]),_:1}),l(V,{gutter:20},{default:a(()=>[l(i,{xs:24,span:12},{default:a(()=>[e[44]||(e[44]=t("p",{class:"label"},"频道编号",-1)),l(E,{readonly:"",size:"large",value:g.value.channel_number},null,8,["value"])]),_:1,__:[44]}),l(i,{xs:24,span:12},{default:a(()=>[e[45]||(e[45]=t("p",{class:"label"},"EPG编号",-1)),l(E,{readonly:"",size:"large",value:g.value.epg_number},null,8,["value"])]),_:1,__:[45]})]),_:1}),l(V,{gutter:20},{default:a(()=>[l(i,{xs:24,span:12},{default:a(()=>[e[46]||(e[46]=t("p",{class:"label"},"RTSP分组",-1)),l(E,{readonly:"",size:"large",value:g.value.rtsp_group},null,8,["value"])]),_:1,__:[46]}),l(i,{xs:24,span:12},{default:a(()=>[e[47]||(e[47]=t("p",{class:"label"},"IGMP分组",-1)),l(E,{readonly:"",size:"large",value:g.value.igmp_group},null,8,["value"])]),_:1,__:[47]})]),_:1})]),_:1}),l(ve,{name:"links"},{label:a(()=>[t("span",Ha,[l(n,{size:16,class:"tabs-icon"},{default:a(()=>[l(Pl)]),_:1}),e[48]||(e[48]=t("span",{class:"tabs-title"},"播放链接",-1))])]),default:a(()=>[l(V,null,{default:a(()=>[l(i,{span:24},{default:a(()=>[e[49]||(e[49]=t("p",{class:"label"},"RTSP播放链接",-1)),l(E,{size:"large",value:g.value.rtsp_url,readonly:"",ref_key:"rtspInput",ref:Se},{prepend:a(()=>[l(c,{onClick:e[12]||(e[12]=s=>Ee("rtsp"))},{icon:a(()=>[l(n,{size:20,title:"复制到剪切板"},{default:a(()=>[l(xe)]),_:1})]),_:1})]),append:a(()=>[l(c,{onClick:e[13]||(e[13]=s=>Ie("rtsp"))},{icon:a(()=>[l(n,{size:24,title:"跳转至potPlayer播放"},{default:a(()=>[l(ge)]),_:1})]),_:1})]),_:1},8,["value"])]),_:1,__:[49]})]),_:1}),l(V,null,{default:a(()=>[l(i,{span:24},{default:a(()=>[e[50]||(e[50]=t("p",{class:"label"},"IGMP播放链接",-1)),l(E,{size:"large",value:g.value.igmp_url,ref_key:"igmpInput",ref:Pe,readonly:""},{prepend:a(()=>[l(c,{onClick:e[14]||(e[14]=s=>Ee("igmp"))},{icon:a(()=>[l(n,{size:20,title:"复制到剪切板"},{default:a(()=>[l(xe)]),_:1})]),_:1})]),append:a(()=>[l(c,{onClick:e[15]||(e[15]=s=>Ie("igmp"))},{icon:a(()=>[l(n,{size:24,title:"跳转至播放器播放"},{default:a(()=>[l(ge)]),_:1})]),_:1})]),_:1},8,["value"])]),_:1,__:[50]})]),_:1})]),_:1}),l(ve,{name:"epg"},{label:a(()=>[t("span",Xa,[l(n,{size:16,class:"tabs-icon"},{default:a(()=>[l(kl)]),_:1}),e[51]||(e[51]=t("span",{class:"tabs-title"},"EPG数据",-1))])]),default:a(()=>[l(da,{modelValue:ie.value,"onUpdate:modelValue":e[16]||(e[16]=s=>ie.value=s),onChange:Xe},null,8,["modelValue"]),fe((f(),T("div",et,[L.value.length!==0?(f(),T("ul",lt,[(f(!0),T(ae,null,te(L.value,s=>(f(),T("li",{class:Re(["epg-item",B(s.start_time,s.end_time)]),key:s.id},[t("div",at,[t("span",tt,_(ze(s.start_time))+"-"+_(ze(s.end_time)),1),t("span",st,_(s.title),1)]),t("div",ot,[l(El,{type:"info",class:"duration"},{default:a(()=>[h(_(el(s.start_time,s.end_time)),1)]),_:2},1024),B(s.start_time,s.end_time)==="finished"?(f(),T("span",{key:0,class:"btn",title:"回放",onClick:y=>De(s,B(s.start_time,s.end_time))},[l(n,null,{default:a(()=>[l(Il)]),_:1})],8,nt)):he("",!0),B(s.start_time,s.end_time)==="airing"?(f(),T("span",{key:1,class:"btn",title:"跳转",onClick:y=>De(s,B(s.start_time,s.end_time))},[l(n,{size:20},{default:a(()=>[l(ge)]),_:1})],8,rt)):he("",!0)])],2))),128))])):(f(),U(_e,{key:1,"image-size":100,description:"暂无数据"}))])),[[me,re.value]])]),_:1})]),_:1},8,["modelValue"])])])]),_:1},8,["modelValue"]),l(le,{modelValue:W.value,"onUpdate:modelValue":e[21]||(e[21]=s=>W.value=s),width:"70%","align-center":"",class:"my-dialog primary dialog-max-height"},{header:a(()=>[t("div",ut,[l(n,{size:20},{default:a(()=>[l(zl)]),_:1}),t("span",null,_(Z.value?"编辑频道":"添加频道"),1)])]),footer:a(()=>[t("div",pt,[l(c,{onClick:e[20]||(e[20]=s=>W.value=!1)},{default:a(()=>e[53]||(e[53]=[h("取消",-1)])),_:1,__:[53]}),l(c,{type:"primary",onClick:tl,loading:ee.value},{default:a(()=>e[54]||(e[54]=[h("保存",-1)])),_:1,__:[54]},8,["loading"])])]),default:a(()=>[t("div",dt,[l(Vl,{model:k.value,ref_key:"saveIptvFormRef",ref:X,rules:al},{default:a(()=>[l(V,{gutter:20},{default:a(()=>[(f(),T(ae,null,te(K,(s,y)=>l(i,{span:12,xs:24,key:y},{default:a(()=>[l(Dl,{label:K[y].label,prop:y,"label-position":"top"},{default:a(()=>[l(E,{size:"large",placeholder:K[y].placeholder,modelValue:k.value[y],"onUpdate:modelValue":Ul=>k.value[y]=Ul},{prepend:a(()=>[l(c,null,{icon:a(()=>[l(n,{size:18},{default:a(()=>[(f(),U(oa(K[y].icon)))]),_:2},1024)]),_:2},1024)]),_:2},1032,["placeholder","modelValue","onUpdate:modelValue"]),t("p",ct,_(K[y].desc),1)]),_:2},1032,["label","prop"])]),_:2},1024)),64))]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue"])])}}},Vt=Me(Ct,[["__scopeId","data-v-b679b1ea"]]);export{Vt as default};
